<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel Admin - Iberican Burger</title>
    <link rel="icon" type="image/x-icon" href="./img/favicon.ico" />
    <link rel="stylesheet" href="bootstrap-5.3.3/scss/personalizado.css" />
    <link rel="stylesheet" href="bootstrap-5.3.3/scss/bootstrap.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.21.0/jquery.validate.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const idiomaSelector = document.getElementById("language-toggle");
            const idiomaLabel = document.getElementById("language-label");

            idiomaSelector.addEventListener("click", () => {
                // Cambiar entre ES y EN
                const nuevoIdioma = idiomaLabel.textContent === "ES" ? "en" : "es";
                idiomaLabel.textContent = nuevoIdioma.toUpperCase();

                // Seleccionar todos los elementos con data-es y data-en
                const elementos = document.querySelectorAll("[data-es][data-en]");

                elementos.forEach((elemento) => {
                    const texto = elemento.getAttribute(`data-${nuevoIdioma}`);

                    if (
                        elemento.tagName === "INPUT" ||
                        elemento.tagName === "TEXTAREA"
                    ) {
                        // Cambiar el placeholder para inputs y textareas
                        elemento.placeholder = texto;
                    } else if (elemento.querySelector("i")) {
                        // Si el elemento tiene un ícono, limpiar nodos de texto previos y agregar texto nuevo
                        const icono = elemento.querySelector("i");

                        // Eliminar todos los nodos de texto excepto el ícono
                        elemento.childNodes.forEach((node) => {
                            if (node.nodeType === Node.TEXT_NODE) {
                                elemento.removeChild(node);
                            }
                        });

                        // Agregar el nuevo texto
                        elemento.appendChild(document.createTextNode(` ${texto}`));
                    } else {
                        // Cambiar el texto directamente para otros elementos
                        elemento.textContent = texto;
                    }
                });
            });

            // Cambiar el idioma inmediatamente al cargar la página
            idiomaSelector.click();
        });
    </script>
    <!-- Boton para volver a arriba -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const backToTopButton = document.getElementById("back-to-top");
            const menu = document.querySelector("header"); // Selecciona el menú

            const toggleBackToTop = () => {
                const menuBottom = menu.getBoundingClientRect().bottom;

                if (menuBottom < 0) {
                    backToTopButton.style.display = "flex"; // Mostrar el botón
                } else {
                    backToTopButton.style.display = "none"; // Ocultar el botón
                }
            };

            // Detecta el desplazamiento
            window.addEventListener("scroll", toggleBackToTop);

            // Añade funcionalidad al botón
            backToTopButton.addEventListener("click", () => {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth", // Desplazamiento suave
                });
            });
        });
    </script>
    <style>
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 0.1em 1em;
            margin: 0 2px;
            border-radius: 5px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
            background: #e9ecef;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button.current {
            background: #007bff;
            color: white !important;
        }

        .table-responsive {
            overflow-x: auto;
            white-space: nowrap;
            overflow-y: hidden;
        }

        html,
        body {
            height: 100vh;
            /* Hace que el cuerpo ocupe toda la altura de la pantalla */
            display: flex;
            flex-direction: column;
        }

        main {
            flex-grow: 1;
            /* Ocupa el espacio disponible y empuja el footer hacia abajo */
        }

        footer {
            background: #212529;
            /* Color oscuro para Bootstrap */
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-top: auto;
            /* Asegura que el footer siempre esté al fondo */
        }
    </style>
</head>

<body>
    <header class="bg-dark">
        <nav class="navbar navbar-expand-xl py-3">
            <div class="container">
                <!-- Logotipo -->
                <a class="navbar-brand text-warning fw-bold" href="index.html">
                    <img src="./img/logo.png" alt="Logo" class="d-inline-block align-text-center me-2" />
                    Iberican<span class="text-danger">Burger</span>
                </a>

                <!-- Botón Colapsable -->
                <button class="navbar-toggler text-warning border-0" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <i class="fas fa-bars fa-lg"></i>
                </button>

                <!-- Menú -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mx-auto text-center">
                        <li class="nav-item">
                            <a class="custom-btn btn-lg" href="index.html" data-es="Inicio" data-en="Home">
                                <i class="fas fa-home"></i> Inicio
                            </a>
                        </li>
                        <!-- Menú con Submenú -->
                        <li class="nav-item dropdown">
                            <a class="custom-btn btn-lg dropdown-toggle" href="#" id="menuDropdown" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false" data-es="Menú" data-en="Menu">
                                <i class="fas fa-utensils"></i> Menú
                            </a>
                            <ul class="dropdown-menu text-center" aria-labelledby="menuDropdown">
                                <li>
                                    <a class="dropdown-item" href="menu.html#hamburguesas" data-es="Hamburguesas"
                                        data-en="Burgers">Hamburguesas</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="menu.html#bocadillos" data-es="Bocadillos"
                                        data-en="Sandwiches">Bocadillos</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="menu.html#entrantes" data-es="Entrantes"
                                        data-en="Entrants">Entrantes</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="menu.html#postres" data-es="Postres"
                                        data-en="Desserts">Postres</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="custom-btn btn-lg" href="contacto.html" data-es="Contacto" data-en="Contact">
                                <i class="fas fa-envelope"></i> Contacto
                            </a>
                        </li>
                    </ul>

                    <!-- Botones adicionales -->
                    <div class="d-flex justify-content-center align-items-center flex-wrap mt-3 mt-lg-0 gap-2">
                        <!-- Botón de Pedido -->
                        <a href="#" class="btn btn-danger btn-lg px-4 py-2" data-bs-toggle="popover"
                            data-bs-placement="bottom" data-bs-content="Ahora mismo no está disponible."
                            onclick="event.preventDefault();" data-es="¡Pedir Ahora!" data-en="Order Now!">
                            <i class="fas fa-hamburger"></i> ¡Pedir Ahora!
                        </a>

                        <!-- Selector de Idioma -->
                        <button class="btn btn-light btn-lg" data-toggle="tooltip" data-placement="down"
                            title="Cambiar idioma/Change language" id="language-toggle">
                            <i class="fas fa-flag"></i> <span id="language-label">EN</span>
                        </button>
                        <!-- Botón de Login -->
                        <a href="login.html" class="btn btn-light btn-lg" data-bs-toggle="tooltip"
                            data-bs-placement="bottom" title="Login">
                            <i class="fas fa-user me-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <main>
    <canvas id="canvas"></canvas>
    <div class="container mt-5 cristal">

        <div class="row">
            <nav class="col-md-3 bg-dark text-white p-3">
                <h4 class="text-center">Admin Panel</h4>
                <ul class="nav flex-column">
                    <li class="nav-item"><a href="#" onclick="cargarSeccion('dashboard')"
                            class="nav-link text-white">Dashboard</a></li>
                    <li class="nav-item" data-bs-toggle="popover" data-bs-placement="left"
                        data-bs-content="Ahora mismo no está disponible." onclick="event.preventDefault();"><a href="#"
                            onclick="cargarSeccion('usuarios')" class="nav-link text-white">Gestión de Usuarios</a></li>
                    <li class="nav-item"><a href="#" onclick="cargarSeccion('pedidos')"
                            class="nav-link text-white">Pedidos</a></li>
                    <li class="nav-item" data-bs-toggle="popover" data-bs-placement="left"
                        data-bs-content="Ahora mismo no está disponible." onclick="event.preventDefault();"><a href="#"
                            onclick="cargarSeccion('productos')" class="nav-link text-white">Gestión de Productos</a>
                    </li>
                    <li class="nav-item" data-bs-toggle="popover" data-bs-placement="left"
                        data-bs-content="Ahora mismo no está disponible." onclick="event.preventDefault();"><a href="#"
                            onclick="cargarSeccion('configuracion')" class="nav-link text-white">Configuración</a></li>
                </ul>
            </nav>
            <main class="col-md-9 p-4">
                <h2 id="titulo-seccion">Dashboard</h2>
                <div id="contenido-seccion">
                    <p>Bienvenido al panel de administración.</p>
                </div>
            </main>
        </div>
    </div>
    <script>
        function cargarSeccion(seccion) {
            let titulo = document.getElementById("titulo-seccion");
            let contenido = document.getElementById("contenido-seccion");

            if (seccion === "dashboard") {
                titulo.textContent = "Dashboard";
                contenido.innerHTML = "<h3>Bienvenido al panel de administración</h3>";
            } else if (seccion === "pedidos") {
                titulo.textContent = "Pedidos";
                contenido.innerHTML = `<div class="table-responsive">
                <table id="orders-table" class="table table-striped table-bordered">
                  <thead>
                    <tr>
                      <th>ID Pedido</th>
                      <th>Cliente</th>
                      <th>Fecha</th>
                      <th>Estado</th>
                      <th>Total</th>
                      <th>Acciones</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>`;
                $(document).ready(function () {
                    $('#orders-table').DataTable({
                        ajax: 'pedidos.json',
                        columns: [
                            { data: 'order_id' },
                            { data: 'customer' },
                            { data: 'date' },
                            { data: 'status' },
                            { data: 'total' },
                            {
                                data: null,
                                render: function (data, type, row) {
                                    return `
                        <button class="btn btn-primary btn-sm" onclick="editOrder(${row.order_id})">Editar</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteOrder(${row.order_id})">Eliminar</button>`;
                                }
                            }
                        ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json'
                        },
                        pagingType: "simple_numbers",
                        responsive: true,  // Hace la tabla responsiva
                        scrollX: true,  // Habilita desplazamiento horizontal si es necesario
                        autoWidth: false  // Evita que se fije un ancho de columna automático
                    });
                });
            }
        }
    </script>
    <!-- Boton para volver a arriba -->
    <button id="back-to-top" class="back-to-top" aria-label="Volver arriba">
        <i class="fas fa-arrow-up"></i>
    </button>
    </main>
    <footer class="bg-dark py-4">
        <div class="container">
            <div class="row">
                <!-- Logotipo y Nombre -->
                <div class="col-md-4 text-center text-md-start mb-3 mb-md-0">
                    <a class="navbar-brand text-warning fw-bold" href="index.html">
                        <img src="./img/logo.png" alt="Logo" class="d-inline-block align-text-center" />
                        Iberican<span class="text-danger">Burger</span>
                    </a>
                    <p class="text-white mt-2" data-es="La mejor experiencia de hamburguesas gourmet."
                        data-en="The best gourmet burger experience.">
                        La mejor experiencia de hamburguesas gourmet.
                    </p>
                </div>

                <!-- Menú Rápido -->
                <div class="col-md-4 text-center">
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <a href="index.html" class="text-white text-decoration-none" data-es="Inicio"
                                data-en="Home">
                                <i class="fas fa-home"></i> Inicio
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="menu.html" class="text-white text-decoration-none" data-es="Menú" data-en="Menu">
                                <i class="fas fa-utensils"></i> Menú
                            </a>
                        </li>
                        <li>
                            <a href="contacto.html" class="text-white text-decoration-none" data-es="Contacto"
                                data-en="Contact">
                                <i class="fas fa-envelope"></i> Contacto
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Redes Sociales -->
                <div class="col-md-4 text-center text-md-end">
                    <p class="text-white mb-2" data-es="Síguenos en redes sociales:"
                        data-en="Follow us on social media:">
                        Síguenos en redes sociales:
                    </p>
                    <div class="social-icons">
                        <a href="#" class="text-white"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-instagram fa-lg"></i></a>
                    </div>
                </div>
            </div>

            <!-- Línea de Separación -->
            <hr class="bg-light my-4" />

            <!-- Información de Derechos -->
            <div class="text-center text-white">
                <p class="mb-0" data-es="© 2024 Iberican Burger. Todos los derechos reservados."
                    data-en="© 2024 Iberican Burger. All rights reserved.">
                    © 2024 Iberican Burger. Todos los derechos reservados.
                </p>
            </div>
        </div>
    </footer>
    <script src="bootstrap-5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const popoverTriggerList = [].slice.call(
                document.querySelectorAll('[data-bs-toggle="popover"]')
            );
            const popoverList = popoverTriggerList.map((popoverTriggerEl) => {
                return new bootstrap.Popover(popoverTriggerEl);
            });
        });
    </script>
    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        // Función para ajustar el tamaño del canvas sin generar scroll lateral
        function resizeCanvas() {
            canvas.width = window.innerWidth; // Ajustar solo al ancho visible
            canvas.height = 5; // Grosor de la línea
        }

        // Inicializar el tamaño del canvas correctamente
        resizeCanvas();

        let offset = 0; // Movimiento inicial

        function drawLine() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpiar el canvas

            // Definir gradiente dinámico
            let gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
            gradient.addColorStop(0, "#ffc107");
            gradient.addColorStop(0.5, "#ffc107");
            gradient.addColorStop(1, "#ffc107");

            ctx.strokeStyle = gradient;
            ctx.lineWidth = 7;
            ctx.beginPath();

            // Dibujo de onda dinámica
            for (let x = 0; x < canvas.width; x++) {
                let y = Math.sin((x + offset) * 0.01) * 3 + 3; // Efecto ondulado
                ctx.lineTo(x, y);
            }

            ctx.stroke();
            offset += 2;

            requestAnimationFrame(drawLine);
        }

        drawLine();

        // Ajustar tamaño del canvas al cambiar la ventana sin desbordar
        window.addEventListener("resize", resizeCanvas);

    </script>
</body>

</html>